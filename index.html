<!DOCTYPE html>
<html lang="en">

<head>

    <title>Gambler Ruin Smart </title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheet.css">
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto&display=swap" rel="stylesheet"> 
</head>


<body>
    
    <!-- <script src="./helpers.js" type="text/javascript"> </script>
    <script src="./dist/bundle.js" type="text/javascript"> </script> -->
    

    <div class="navbar background-nav-bar">
        <ul>
            <li class="navbar-logo">
                <img src="assets/photos/eth-logo2.jpg" alt="Ethereum Logo">
            </li>
            <li>
                <a href="#connect-metamask" class="size-anim-small"> Connect with metamask</a>
            </li>
            <li class="dropdown">
                <a href="#services" class="size-anim-small"> Deposit/Withdraw <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                  </svg></a>

                <div class="dropdown-content background-color-change-anim">
                    <!-- <a href="#connect-metamask" class="size-anim-small" style= color:beige>Connect metamask</a> -->
                    <a href="#deposit" class="size-anim-small" style= color:beige>Deposit ETH</a>
                    <a href="#withdraw" class="size-anim-small" style= color:beige>Withdraw ETH</a>
                </div>
            </li>
            <li>

                <a href="#rules" class="size-anim-small">Rules of the game</a>

            </li>

            <li>
                <a href="#form-play-game" class="size-anim-small"> Play a game</a>
            </li>

            <!-- <button id = "connectButton"> Connect with metamask </button> -->
        </ul>
    </div>

    <div id="connect-metamask" class="section-home">
        <!-- <h1 class="size-anim color-change-anim">Gambler Ruin Smart Contract</h1> -->
        <h1 class="color-change-anim">Gambler Ruin Smart Contract</h1>
        <button id = "connectButton" class="color-change-anim2"> CONNECT WITH METAMASK <br> <span style="color:darkblue"><u>(Please use Ropsten network)</u></span>
        <br> <h4 id="status-metamask" style="color:bisque"> Status : Not connected.</h4></button>
    </div>



    <!-- <div id="connect-metamask" class="titre-section"> 
        <br><br><br>
        <h1 class="color-change-anim">Please connect your account via metamask by pressing the connect button <br> <span style="color:lightblue"><u>(use Ropsten network)</u></span></h1>
        <button id = "connectButton"> Connect with metamask </button>
        <h4 id="status-metamask" style="color:cyan"> Status : Not connected.</h4>

    </div> -->


    <div id="deposit-withdraw">
        <div id="deposit" class="section-contacte" style="width: 45%; float:left">
            <div class="titre-centrer">
                <h1>
                    <!-- <a href="#bottom" class="color-change-anim">Deposit funds</a> -->
                    <h1 class="color-change-anim">Deposit funds</h1>
                </h1>
            </div>
            <div class="image-contacter">
                <img src="./assets/photos/ethereum-logo.png"  alt="eth" style="width:50%;">
            </div>
    
            <h2>First connect your metamask account and then select the amount of ETH you wish to bet before clicking on the button "Deposit ETH".
                <br><i>(The amount must be included between 0.1 and 1)</i>
            </h2>
            <!-- <input type ="number" step="0.1" min="0.1" max="1" oninput="validity.valid||(value='');" id="depositAmountInput" placeholder="Enter amount to bet"> -->
            <!-- <input type ="number" step="0.1" min="0.1" max="1" id="depositAmountInput" placeholder="Enter amount to bet"> -->

            <select name="Amount to deposit" id="depositAmountInput">
                <option value="0.1">0.1</option> <option value="0.2">0.2</option> <option value="0.3">0.3</option>
                <option value="0.4">0.4</option> <option value="0.5">0.5</option> <option value="0.6">0.6</option>
                <option value="0.7">0.7</option> <option value="0.8">0.8</option> <option value="0.9">0.9</option> <option value="1">1</option>
              </select>

            <!-- <button id = "depositButton" style: onclick="helpers.deposit()"> Deposit ETH </button> -->
            <button id = "depositButton"> Deposit ETH </button>
            
            <div id="loaderWaitingConfirmation" class="section-contacte">
                <div class="loader" id="loaderAnimation"></div>
                Waiting for confirmation ...
                <!-- YOU NEED TO MAKE A DEPOSIT FOR THE GAME TO APPEAR ! -->
            </div>
    
            <br><br><br><br><br><br>
        </div>

        <div id="withdraw" class="section-contacte" style="width: 45%; float:right">
            <div class="titre-centrer">
                <h1>
                    <!-- <a href="#bottom" class="color-change-anim">Withdraw funds</a> -->
                    <h1 class="color-change-anim">Withdraw funds</h1>
    
                </h1>
            </div>
            <div class="image-contacter">
                <img src="./assets/photos/ethereum-logo.png"  alt="eth" style="width:50%;">
            </div>
    
            <p><h2>To withdraw your funds, first connect your metamask account using the "Connect" button, and then click on the "Withdraw" button.
            </h2></p>
            <!-- <button id = "withdrawButton" style: onclick="helpers.withdraw()"> Withdraw </button> -->
            <button id = "withdrawButton"> Withdraw </button>
            
        </div>

    </div>


    <p class="separator">
        ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    </p>
        
    <div id="rules" class="section-about">
        <div class="titre-section">
            <h1 class="color-change-anim">Rules of the game</h1>
            <p id="section-rules" style="text-align:left;">
                To play, you need to deposit an amount of ETH that you wish to bet. The game will only appear if you have deposited ETH in your account.
                The game is simple. You will bet a certain amount of ETH, and the contract will bet an amount either equal or larger than the size of your bet.

                <br><br> There are 4 game modes (difficulties). 
                <br>Each game mode has a specific probability of winning and a corresponding reward : 
            </p>
            <ul style="text-align:left;">
                <li>
                    Easy mode : You have more probabilities to win. However, in event of a win, your reward is equivalent to 50 % of the size of your bet.
                </li>
                <li>
                    Normal mode : Your chance to win (or lose) is equal to 50 %. The reward in the event of a win amounts to 100 % of your bet.
                </li>
                <li>
                    Hard mode : The chance of winning is less than 50 %. But you can win a reward equal to 150 % of your bet.
                </li>
                <li>
                    Very hard mode : The chance of winning is slim. However, you can double your bet (200 %).
                </li>
            </ul>
            
        </div>
        </div>
    </div>

    <p class="separator">
        ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    </p>

    <!-- <div id="loaderWaitingConfirmation" class="section-contacte">
        <div class="loader" id="loaderAnimation"></div>
        Waiting for confirmation ...
        YOU NEED TO MAKE A DEPOSIT FOR THE GAME TO APPEAR !
    </div>
    <br><br><br> -->
    

    <div id="play-game" class="section-game">
        
        <h1 class="color-change-anim">Play a game</h1>
        
        <div class="center-remember">
            <p>
                <h5 class="remember">
                remember: <br>
                easy mode : you have more chance to win half of your bet, but you still can loose your bet.<br>
                normal mode : you have the same chance to win or loose your bet<br>
                hard mode : you can win 50% more than you bet, but still loose only your bet<br>
                very hard mode : Gambler put 2 x your bet on the table, but still loose only your bet<br>
                </h5>
                
            </p> 
        </div>
        <div>
            <button type="button" style="background-color: #00ff2a; color: black;" class=butt id="btn0">play</button>
            <button type="button"  style="background-color: rgb(10, 135, 207); color: black;" class=butt id="btn1">play</button>
            <button type="button" style="background-color: #f19318; color: black;" class=butt id="btn2">play</button>
            <button type="button" style="background-color: rgb(235, 54, 22); color: black;" class=butt id="btn3">play</button>
        </div>
        
    </div>
    <br><br>


    <div id="infosOnAccount"  class="section-contacte" style="clear:both;">
        <button id = "getAccountBalanceButton"> Display personal funds amount in contract </button>
        <h3 id="user-balance" style="color:cyan"> Your balance :</h3>

        <button id = "getTotalBalanceInContract" > Display total amount of ETH deposited in contract </button>
        <h3 id="total-balance" style="color:cyan"> Total balance in contract : </h3>

        <button id = "getBudgetOfContract" > Display the proprietary budget of the contract (to bet against players) </button>
        <h3 id="proprietary-budget-contract" style="color:cyan"> Proprietary budget of the contract :</h3>
        <br><br><br><br><br><br>

        <!-- A ENLEVER AVANT DE REMETTRE LE DEVOIR. SHOULD ONLY BE VISIBLE AT THE MOMENT OF FUNDING THE CONTRACT. SHOULD BE MADE INVISIBLE ONCE ACCOUNT IS FUNDED
        <H4> [RESERVED TO THE OWNER]. Fund the contract's budget OR self-destruct contract</H4>
        <input type ="number" step="0.01" id="fundBudgetInput" placeholder="Please enter the amount to deposit">
        <button id = "fundContractButton"> Deposit ETH to fund the contract's budget</button>
        <button id = "selfDestructButton" > SELF DESTRUCT CONTRACT !!!!!</button> -->

    </div>

    
    <div class="footer">
        <p>&copy; Gambler Ruin Smart Contract - IFT4100 - 2022</p>
    </div>

    <script src="./dist/listenerBrowserified.js" type="text/javascript"> </script>
    <script src="./dist/listenerGameButtonBrowserified.js" type="text/javascript"> </script>
    <script>
        //document.getElementById("play-game").style.display = "none";
        document.getElementById("loaderWaitingConfirmation").style.display = "none";
    </script>
</body>

</html>
